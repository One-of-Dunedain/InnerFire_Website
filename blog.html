<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blog â€” InnerFire</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ”¥</text></svg>">
    <meta name="description" content="A breathing app where your breath drives fire visuals, sound, and haptics in real time." />
    <meta property="og:title" content="Blog â€” InnerFire" />
    <meta property="og:description" content="A breathing app where your breath drives fire visuals, sound, and haptics in real time." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="./og-image.png" />
    <meta property="og:url" content="https://innerfire.app/blog" />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <header class="site-header">
      <div class="container header-inner">
        <a href="./index.html" class="header-logo">InnerFire</a>
        <nav class="header-nav">
          <a href="./blog.html">Blog</a>
          <a href="./index.html#signup" class="btn-header">Get Early Access</a>
        </nav>
      </div>
    </header>

    <section class="page-header">
      <div class="container">
        <p class="eyebrow">InnerFire</p>
        <h1>Blog</h1>
        <p>Breathing, stress, and the science of feeling better.</p>
      </div>
    </section>

    <!-- BLOG GRID -->
    <section class="blog-grid-section">
      <div class="container blog-container">
        <div id="blog-grid" class="blog-grid">
          <!-- JS renders article cards here -->
        </div>
        <div id="blog-empty" class="blog-empty" style="display:none;">
          <p>Articles are coming soon. Stay tuned.</p>
          <a href="./index.html" class="back-link">&larr; Back to home</a>
        </div>
      </div>
    </section>

    <!-- BLOG NEWSLETTER -->
    <section class="blog-newsletter">
      <div class="container">
        <h2>Want to try InnerFire?</h2>
        <p class="blog-newsletter-sub">We're inviting 300 early testers. Leave your email to get a free TestFlight invite.</p>
        <form
          action="https://app.kit.com/forms/9132207/subscriptions"
          method="post"
          class="blog-newsletter-form"
          data-sv-form="9132207"
          data-uid="b081b4720d"
        >
          <input type="email" name="email_address" placeholder="Email Address" class="email-input" required />
          <input type="text" name="fields[first_name]" placeholder="First Name" class="email-input" />
          <button class="btn-primary" type="submit">Get Early Access</button>
        </form>
        <p class="form-note">No spam. Just a beta invite when we're ready.</p>
      </div>
    </section>

    <footer>
      <div class="container">
        <p class="footer-credit">Made by an indie developer who needed to breathe.</p>
      </div>
    </footer>

    <script>
    async function shareArticle(btn) {
      var title = btn.dataset.title;
      var url = new URL(btn.dataset.url, window.location.href).href;
      if (navigator.share) {
        try { await navigator.share({ title: title, url: url }); } catch(e) {}
        return;
      }
      try {
        if (navigator.clipboard && navigator.clipboard.writeText) {
          await navigator.clipboard.writeText(url);
        } else {
          var t = document.createElement('textarea');
          t.value = url;
          t.setAttribute('readonly', '');
          t.style.position = 'fixed';
          t.style.opacity = '0';
          document.body.appendChild(t);
          t.select();
          document.execCommand('copy');
          document.body.removeChild(t);
        }
        btn.style.background = 'rgba(68,170,85,0.4)';
        setTimeout(function() { btn.style.background = ''; }, 1500);
      } catch(e) {}
    }

    (async function loadBlogPosts() {
      var grid = document.getElementById('blog-grid');
      var empty = document.getElementById('blog-empty');
      function escapeAttr(value) {
        return String(value || '')
          .replace(/&/g, '&amp;')
          .replace(/"/g, '&quot;')
          .replace(/</g, '&lt;')
          .replace(/>/g, '&gt;');
      }
      /* Manifest entry format:
      {
        "slug": "my-first-post",
        "title": "Article Title Here",
        "excerpt": "A short 1-2 sentence summary of the article.",
        "date": "2026-03-01",
        "readTime": "5 min",
        "category": "Breathing",
        "thumbnail": "./blog/images/my-first-post.jpg"
      }
      */
      try {
        var res = await fetch('./blog/posts.json');
        var posts = await res.json();
        if (!posts.length) { empty.style.display = ''; grid.style.display = 'none'; return; }
        posts.sort(function(a, b) { return new Date(b.date) - new Date(a.date); });
        grid.innerHTML = posts.map(function(p) { return ''
          + '<a href="./blog/' + p.slug + '.html" class="blog-card">'
          +   '<div class="blog-card-thumb" style="background-image:url(\'' + (p.thumbnail || '') + '\')">'
          +     '<button class="blog-card-share" type="button" aria-label="Share" data-title="' + escapeAttr(p.title) + '" data-url="./blog/' + p.slug + '.html" onclick="event.preventDefault();event.stopPropagation();shareArticle(this)">'
          +       '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"/><polyline points="16 6 12 2 8 6"/><line x1="12" y1="2" x2="12" y2="15"/></svg>'
          +     '</button>'
          +     (!p.thumbnail ? '<div class="blog-card-thumb-placeholder"></div>' : '')
          +   '</div>'
          +   '<div class="blog-card-body">'
          +     '<span class="blog-card-category">' + (p.category || '') + '</span>'
          +     '<h3 class="blog-card-title">' + p.title + '</h3>'
          +     '<p class="blog-card-excerpt">' + p.excerpt + '</p>'
          +     '<div class="blog-card-meta">'
          +       '<time>' + new Date(p.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' }) + '</time>'
          +       '<span>' + (p.readTime || '') + '</span>'
          +     '</div>'
          +   '</div>'
          + '</a>';
        }).join('');
      } catch (e) {
        empty.style.display = '';
        grid.style.display = 'none';
      }
    })();
    </script>
  </body>
</html>
